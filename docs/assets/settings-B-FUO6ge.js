import{a as le,at as G,au as ne,b as de,j as e,aq as oe,P as C,av as ce,aw as me,f as w,d as ue,ax as V,ar as xe,F as T,y as _,ay as pe,az as he,aA as ge,o as be,S as fe}from"./ui-Donqwxo7.js";import{d as M,j as je,C as b,h as ve}from"./index-CmI2uZiO.js";import{b as Ne,u as ye,c as Ce}from"./query-Cw8NcARV.js";import{L as j}from"./label-D7Eeu5EM.js";import{e as Se,S as k,a as P,b as I,c as R,d as v}from"./switch-BrUN3v4I.js";import{B as we}from"./button-gHr9dfwR.js";import{r as d}from"./vendor-CW-_dNtU.js";import"./utils-BTGVH9Kg.js";var E="Tabs",[Te,qe]=le(E,[G]),L=G(),[ke,F]=Te(E),B=d.forwardRef((a,t)=>{const{__scopeTabs:r,value:i,onValueChange:c,defaultValue:m,orientation:l="horizontal",dir:u,activationMode:p="automatic",...h}=a,o=ne(u),[n,x]=de({prop:i,onChange:c,defaultProp:m});return e.jsx(ke,{scope:r,baseId:oe(),value:n,onValueChange:x,orientation:l,dir:o,activationMode:p,children:e.jsx(C.div,{dir:o,"data-orientation":l,...h,ref:t})})});B.displayName=E;var O="TabsList",q=d.forwardRef((a,t)=>{const{__scopeTabs:r,loop:i=!0,...c}=a,m=F(O,r),l=L(r);return e.jsx(ce,{asChild:!0,...l,orientation:m.orientation,dir:m.dir,loop:i,children:e.jsx(C.div,{role:"tablist","aria-orientation":m.orientation,...c,ref:t})})});q.displayName=O;var K="TabsTrigger",U=d.forwardRef((a,t)=>{const{__scopeTabs:r,value:i,disabled:c=!1,...m}=a,l=F(K,r),u=L(r),p=Q(l.baseId,i),h=H(l.baseId,i),o=i===l.value;return e.jsx(me,{asChild:!0,...u,focusable:!c,active:o,children:e.jsx(C.button,{type:"button",role:"tab","aria-selected":o,"aria-controls":h,"data-state":o?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:p,...m,ref:t,onMouseDown:w(a.onMouseDown,n=>{!c&&n.button===0&&n.ctrlKey===!1?l.onValueChange(i):n.preventDefault()}),onKeyDown:w(a.onKeyDown,n=>{[" ","Enter"].includes(n.key)&&l.onValueChange(i)}),onFocus:w(a.onFocus,()=>{const n=l.activationMode!=="manual";!o&&!c&&n&&l.onValueChange(i)})})})});U.displayName=K;var W="TabsContent",z=d.forwardRef((a,t)=>{const{__scopeTabs:r,value:i,forceMount:c,children:m,...l}=a,u=F(W,r),p=Q(u.baseId,i),h=H(u.baseId,i),o=i===u.value,n=d.useRef(o);return d.useEffect(()=>{const x=requestAnimationFrame(()=>n.current=!1);return()=>cancelAnimationFrame(x)},[]),e.jsx(ue,{present:c||o,children:({present:x})=>e.jsx(C.div,{"data-state":o?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":p,hidden:!x,id:h,tabIndex:0,...l,ref:t,style:{...a.style,animationDuration:n.current?"0s":void 0},children:x&&m})})});z.displayName=W;function Q(a,t){return`${a}-trigger-${t}`}function H(a,t){return`${a}-content-${t}`}var Pe=B,J=q,X=U,Y=z;const Ie=Pe,Z=d.forwardRef(({className:a,...t},r)=>e.jsx(J,{ref:r,className:M("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...t}));Z.displayName=J.displayName;const N=d.forwardRef(({className:a,...t},r)=>e.jsx(X,{ref:r,className:M("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...t}));N.displayName=X.displayName;const y=d.forwardRef(({className:a,...t},r)=>e.jsx(Y,{ref:r,className:M("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...t}));y.displayName=Y.displayName;const A="default",Re=[{id:"blue",label:"Blue (ASML)",color:"bg-[#1a3a7a]",description:"Corporate blue"},{id:"green",label:"Green",color:"bg-[#22C55E]",description:"Fresh and natural green"},{id:"violet",label:"Violet (Teams)",color:"bg-[#7C3AED]",description:"Microsoft Teams purple"},{id:"darkgreen",label:"Dark Green",color:"bg-[#166534]",description:"Professional dark green theme"}],Ae=[{id:"slate",label:"Slate",color:"bg-[#2a2d32]",description:"Neutral dark gray"},{id:"blue",label:"Blue (ASML)",color:"bg-[#1a2744]",description:"Corporate blue tint"},{id:"charcoal",label:"Charcoal",color:"bg-[#262626]",description:"Near-black minimal"},{id:"green",label:"Green",color:"bg-[#1a2e1f]",description:"Dark green tint"},{id:"violet",label:"Violet",color:"bg-[#271a3a]",description:"Purple tint"},{id:"darkgreen",label:"Forest",color:"bg-[#1a2b1e]",description:"Deep forest green"},{id:"transparent",label:"Transparent",color:"bg-transparent border border-dashed border-muted-foreground/30",description:"No background"},{id:"white",label:"White",color:"bg-white border border-muted-foreground/20",description:"Clean light sidebar"}],Me=["EUV","DUV","CSCM","Trumph","Others"],Ee=["Europe","US","ASIA","TW","Korea"],Fe=["F34 Intel Ireland"];function Ke(){const{color:a,navColor:t,mode:r,setColor:i,setNavColor:c,toggleMode:m}=je(),l=Ne(),[u,p]=d.useState("Others"),[h,o]=d.useState("Europe"),[n,x]=d.useState("F34 Intel Ireland"),[D,$]=d.useState("user"),[ee,f]=d.useState(!1),{data:g,isLoading:se}=ye({queryKey:["/api/user-preferences",A]});d.useEffect(()=>{g&&(p(g.system||"Others"),o(g.group||"Europe"),x(g.site||"F34 Intel Ireland"),$(g.role||"user"))},[g]);const S=Ce({mutationFn:async s=>ve("POST",`/api/user-preferences/${A}`,s),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/user-preferences",A]}),f(!1)}}),ae=()=>{S.mutate({system:u,group:h,site:n,isFirstTime:"false",role:D})},te=s=>{p(s),f(!0)},re=s=>{o(s),f(!0)},ie=s=>{x(s),f(!0)};return e.jsxs("div",{className:"h-screen overflow-y-auto bg-background",children:[e.jsx("header",{className:"bg-background border-b border-border px-4 lg:px-8 py-4 sticky top-0 z-20",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl lg:text-2xl font-bold",children:"Settings"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Customize your application preferences"})]})}),e.jsx("div",{className:"p-4 lg:p-8",children:e.jsxs(Ie,{defaultValue:"themes",className:"max-w-3xl",children:[e.jsxs(Z,{className:"grid w-full grid-cols-3 mb-6",children:[e.jsxs(N,{value:"themes",className:"flex items-center gap-2","data-testid":"tab-themes",children:[e.jsx(V,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Themes"})]}),e.jsxs(N,{value:"isp-details",className:"flex items-center gap-2","data-testid":"tab-isp-details",children:[e.jsx(xe,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"ISP Details"})]}),e.jsxs(N,{value:"ptw-details",className:"flex items-center gap-2","data-testid":"tab-ptw-details",children:[e.jsx(T,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"PtW Details"})]})]}),e.jsxs(y,{value:"themes",className:"space-y-6",children:[e.jsxs(b,{className:"p-4 lg:p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 rounded-md bg-primary/10",children:e.jsx(V,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold",children:"Theme Color"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose your preferred accent color"})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Re.map(s=>e.jsxs("button",{onClick:()=>i(s.id),className:`relative p-4 rounded-md border-2 transition-all text-left hover-elevate ${a===s.id?"border-primary bg-primary/5":"border-border bg-card"}`,"data-testid":`button-theme-${s.id}`,children:[a===s.id&&e.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-primary rounded-full flex items-center justify-center",children:e.jsx(_,{className:"w-3 h-3 text-primary-foreground"})}),e.jsx("div",{className:`w-8 h-8 rounded-full mb-3 ${s.color}`}),e.jsx("p",{className:"font-medium text-sm",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 hidden sm:block",children:s.description})]},s.id))})]}),e.jsx(b,{className:"p-4 lg:p-6",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-md bg-primary/10",children:r==="dark"?e.jsx(pe,{className:"w-5 h-5 text-primary"}):e.jsx(he,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx(j,{htmlFor:"dark-mode",className:"font-semibold cursor-pointer",children:"Dark Mode"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Switch between light and dark themes"})]})]}),e.jsx(Se,{id:"dark-mode",checked:r==="dark",onCheckedChange:m,"data-testid":"switch-dark-mode"})]})}),e.jsxs(b,{className:"p-4 lg:p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 rounded-md bg-primary/10",children:e.jsx(ge,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold",children:"Navigation Color"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize the sidebar and header color"})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Ae.map(s=>e.jsxs("button",{onClick:()=>c(s.id),className:`relative p-3 rounded-md border-2 transition-all text-left hover-elevate ${t===s.id?"border-primary bg-primary/5":"border-border bg-card"}`,"data-testid":`button-nav-${s.id}`,children:[t===s.id&&e.jsx("div",{className:"absolute top-2 right-2 w-4 h-4 bg-primary rounded-full flex items-center justify-center",children:e.jsx(_,{className:"w-2.5 h-2.5 text-primary-foreground"})}),e.jsx("div",{className:`w-full h-6 rounded mb-2 ${s.color}`}),e.jsx("p",{className:"font-medium text-xs",children:s.label}),e.jsx("p",{className:"text-[10px] text-muted-foreground mt-0.5 hidden sm:block",children:s.description})]},s.id))})]}),e.jsxs(b,{className:"p-4 lg:p-6",children:[e.jsx("h2",{className:"font-semibold mb-4",children:"Preview"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsx("div",{className:"px-4 py-2 bg-primary text-primary-foreground rounded-md text-sm font-medium",children:"Primary Button"}),e.jsx("div",{className:"px-4 py-2 bg-secondary text-secondary-foreground rounded-md text-sm font-medium",children:"Secondary Button"}),e.jsx("div",{className:"px-4 py-2 border border-border rounded-md text-sm font-medium",children:"Outline Button"})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsx("div",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-xs font-medium",children:"Badge Primary"}),e.jsx("div",{className:"px-3 py-1 bg-muted text-muted-foreground rounded-full text-xs font-medium",children:"Badge Muted"})]}),e.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden w-full max-w-xs",children:e.jsx("div",{className:"h-full bg-primary rounded-full",style:{width:"65%"}})})]})]})]}),e.jsx(y,{value:"isp-details",className:"space-y-6",children:e.jsxs(b,{className:"p-4 lg:p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 rounded-md bg-primary/10",children:e.jsx(be,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold",children:"ISP Preferences"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure your default ISP settings"})]})]}),se?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]}):e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{className:"text-sm font-medium",children:"System"}),e.jsx("div",{className:"grid grid-cols-5 gap-1.5",children:Me.map(s=>e.jsx("button",{type:"button",onClick:()=>te(s),className:`py-2 rounded-md text-xs font-medium transition-all ${u===s?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,"data-testid":`settings-system-${s.toLowerCase()}`,children:s},s))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{className:"text-sm font-medium",children:"Group"}),e.jsxs(k,{value:h,onValueChange:re,children:[e.jsx(P,{"data-testid":"select-settings-group",children:e.jsx(I,{placeholder:"Select group"})}),e.jsx(R,{children:Ee.map(s=>e.jsx(v,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{className:"text-sm font-medium",children:"Site"}),e.jsxs(k,{value:n,onValueChange:ie,children:[e.jsx(P,{"data-testid":"select-settings-site",children:e.jsx(I,{placeholder:"Select site"})}),e.jsx(R,{children:Fe.map(s=>e.jsx(v,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{className:"text-sm font-medium",children:e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(fe,{className:"h-3.5 w-3.5 text-primary"})," Role"]})}),e.jsxs(k,{value:D,onValueChange:s=>{$(s),f(!0)},children:[e.jsx(P,{children:e.jsx(I,{placeholder:"Select role"})}),e.jsxs(R,{children:[e.jsx(v,{value:"user",children:"User"}),e.jsx(v,{value:"admin",children:"Admin"})]})]}),e.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Admins can show/hide table columns"})]}),e.jsx(we,{onClick:ae,disabled:!ee||S.isPending,className:"w-full sm:w-auto","data-testid":"button-save-isp-preferences",children:S.isPending?"Saving...":"Save Preferences"})]})]})}),e.jsx(y,{value:"ptw-details",className:"space-y-6",children:e.jsxs(b,{className:"p-4 lg:p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 rounded-md bg-primary/10",children:e.jsx(T,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold",children:"Pre-Task Work Details"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure PtW form preferences"})]})]}),e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(T,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-sm",children:"PtW configuration options coming soon"})]})]})})]})})]})}export{Ke as default};
